# Namespace:    Hammurabi.Econ
# Summary:      Basic economic relationships related to households
# Updated:      2013-03-01
# Author:       Michael Poulshock


# HOUSEHOLDS

# Household size
Tnum HouseholdSize(Thing p) =
    HouseholdMembersOf(p).Count

# TODO: This currently does not include the person!
# >>Who are/were the other members of {1}'s household?
Tset HouseholdMembersOf(Thing person)

# Person's household as a unit
# TODO: This doesn't get added to unit tests generated by Hammurabi Interactive
Thing HouseholdOf(Thing person) =
    AddThing(person.Id + "'s household")

# >>Who are the members of the {1} household?
Tset HouseholdMembers(Thing household)

    
# RELATIONSHIPS BETWEEN TWO PEOPLE
    
# Two people are members of the same household.
Tbool ShareHousehold(Thing p1, Thing p2) =
    LivesWith(p1, p2)     # simplifying assumption
                 
# >>Do/did {1} and {2} share a principal abode?
TboolSym SharePrincipalAbode(Thing p1, Thing p2) =
    LivesWith(p1, p2)     # simplifying assumption

# >>Do/did {1} and {2} live together?
TboolSym LivesWith(Thing p1, Thing p2)

# >>Does/did {1} provide financial support for {2}?
Tbool ProvidesSupportFor(Thing p1, Thing p2)

# >>Do/did {1} and {2} purchase and prepare meals together (for home consumption)?
Tbool PurchaseAndPrepareMealsTogether(Thing p1, Thing p2) 

PurchaseAndPrepareMealsTogether(1,2) assumes LivesWith(1,2)


# NATURE OF HOUSING
# These inputs could be for an individual or a household

# >>What type of housing is {1} living in?  (Options: ???; Camper or RV; )
Tstr HousingType(Thing t)

# >>What is the nature of {1}'s living arrangement?  (Options: Own; Rent; Reside in institution; Incarcerated; Temporary living arrangement)
Tstr LivingArrangement(Thing t)

# >>Is {1}'s housing subsidized?
Tbool HousingIsSubsidized(Thing t)

# >>Is {1} operating a business from their residence?
Tbool OperatesHomeBasedBusiness(Thing t)

# >>What is the primary type of heating fuel does {1} use?  (Options: Natural gas; Electric; Fuel oil; Coal; Kerosene; Propane; Wood; Other.)
Tstr HeatingFuelType(Thing t)

# >>What is the secondary type of heating fuel does {1} use?  (Options: Natural gas; Electric; Fuel oil; Coal; Kerosene; Propane; Wood; Other.)
Tstr SecondaryHeatingFuelType(Thing t)


# UNIT TESTS

Test: 714127497
- Things t1, t2
- Things moe, harry, larry
- Econ.HouseholdMembersOf(t1) = [[moe, harry, larry]]
- Econ.HouseholdSize(t1).Out =?= 3

Test: TboolSym1
- Thing a
- Thing b
- Econ.SharePrincipalAbode(a,b) = true
- Econ.SharePrincipalAbode(a,b).Out =?= true

Test: TboolSym2
- Thing a
- Thing b
- Econ.SharePrincipalAbode(a,b) = true
- Econ.SharePrincipalAbode(b,a).Out =?= true

Test: ShareAbode
- Thing a
- Thing b
- Econ.LivesWith(a,b) = true
- Econ.SharePrincipalAbode(b,a).Out =?= true

Test: LivesWith1
- Thing a
- Thing b
- Econ.LivesWith(a,b) = true
- Econ.LivesWith(a,b).Out =?= true

Test: LivesWith2
- Thing a
- Thing b
- Econ.LivesWith(a,b) = true
- Econ.LivesWith(b,a).Out =?= true


